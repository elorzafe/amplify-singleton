(()=>{"use strict";var e={483:function(e,n){var t=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,s)}c((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.Amplify=void 0,n.Amplify=new class{configure(e,n){this.resourcesConfig=e,this.frontendConfig=n}getUserSession(){var e,n;return t(this,void 0,void 0,(function*(){return yield null===(n=null===(e=this.frontendConfig)||void 0===e?void 0:e.sessionHandler)||void 0===n?void 0:n.getUserSession()}))}observeUserSession(){if(!this.frontendConfig||!this.frontendConfig.sessionHandler||!this.frontendConfig.sessionHandler.observeSession)throw new Error("No observe on sessionHandler");return this.frontendConfig.sessionHandler.observeSession}getResourceConfig(){return JSON.parse(JSON.stringify(this.resourcesConfig))}observeConfig(){throw new Error("Not implemented")}}},766:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,s)}c((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.signOut=n.signIn=void 0;const o=t(421),i=t(932);n.signIn=function({username:e,password:n}){return r(this,void 0,void 0,(function*(){if(!o.Amplify.getResourceConfig().Auth.userPoolId)throw new Error("No user pool configured");return i.sessionNotifier&&"function"==typeof i.sessionNotifier&&(0,i.sessionNotifier)({isLoggedIn:!0,username:e}),!0}))},n.signOut=function(){return r(this,void 0,void 0,(function*(){i.sessionNotifier&&"function"==typeof i.sessionNotifier&&(0,i.sessionNotifier)({isLoggedIn:!1,username:void 0})}))}},932:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,s)}c((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.sessionHandler=n.sessionNotifier=void 0;const o=t(88),i={isLoggedIn:!1};n.sessionHandler={getUserSession:()=>r(void 0,void 0,void 0,(function*(){return i})),observeSession:new o.Observable((e=>{e.next(i),n.sessionNotifier=n=>{i.isLoggedIn=n.isLoggedIn,i.username=n.username,e.next(i)}}))}},421:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sessionHandler=n.signOut=n.signIn=n.Amplify=void 0;var r=t(483);Object.defineProperty(n,"Amplify",{enumerable:!0,get:function(){return r.Amplify}});var o=t(766);Object.defineProperty(n,"signIn",{enumerable:!0,get:function(){return o.signIn}}),Object.defineProperty(n,"signOut",{enumerable:!0,get:function(){return o.signOut}});var i=t(932);Object.defineProperty(n,"sessionHandler",{enumerable:!0,get:function(){return i.sessionHandler}})},88:(e,n,t)=>{function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}t.r(n),t.d(n,{Observable:()=>O});var u=function(){return"function"==typeof Symbol},s=function(e){return u()&&Boolean(Symbol[e])},c=function(e){return s(e)?Symbol[e]:"@@"+e};u()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var a=c("iterator"),f=c("observable"),l=c("species");function d(e,n){var t=e[n];if(null!=t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}}function p(e){var n=e.constructor;return void 0!==n&&null===(n=n[l])&&(n=void 0),void 0!==n?n:O}function v(e){return e instanceof O}function b(e){b.log?b.log(e):setTimeout((function(){throw e}))}function h(e){Promise.resolve().then((function(){try{e()}catch(e){b(e)}}))}function y(e){var n=e._cleanup;if(void 0!==n&&(e._cleanup=void 0,n))try{if("function"==typeof n)n();else{var t=d(n,"unsubscribe");t&&t.call(n)}}catch(e){b(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,n,t){e._state="running";var r=e._observer;try{var o=d(r,n);switch(n){case"next":o&&o.call(r,t);break;case"error":if(m(e),!o)throw t;o.call(r,t);break;case"complete":m(e),o&&o.call(r)}}catch(e){b(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function w(e,n,t){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:n,value:t}],void h((function(){return function(e){var n=e._queue;if(n){e._queue=void 0,e._state="ready";for(var t=0;t<n.length&&(g(e,n[t].type,n[t].value),"closed"!==e._state);++t);}}(e)}))):void g(e,n,t);e._queue.push({type:n,value:t})}}var _=function(){function e(e,n){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var t=new x(this);try{this._cleanup=n.call(void 0,t)}catch(e){t.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(m(this),y(this))},i(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),x=function(){function e(e){this._subscription=e}var n=e.prototype;return n.next=function(e){w(this._subscription,"next",e)},n.error=function(e){w(this._subscription,"error",e)},n.complete=function(){w(this._subscription,"complete")},i(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),O=function(){function e(n){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof n)throw new TypeError("Observable initializer must be a function");this._subscriber=n}var n=e.prototype;return n.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new _(e,this._subscriber)},n.forEach=function(e){var n=this;return new Promise((function(t,r){if("function"==typeof e)var o=n.subscribe({next:function(n){try{e(n,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),t()}}))},n.map=function(e){var n=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(t){return n.subscribe({next:function(n){try{n=e(n)}catch(e){return t.error(e)}t.next(n)},error:function(e){t.error(e)},complete:function(){t.complete()}})}))},n.filter=function(e){var n=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(t){return n.subscribe({next:function(n){try{if(!e(n))return}catch(e){return t.error(e)}t.next(n)},error:function(e){t.error(e)},complete:function(){t.complete()}})}))},n.reduce=function(e){var n=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=p(this),r=arguments.length>1,o=!1,i=arguments[1];return new t((function(t){return n.subscribe({next:function(n){var u=!o;if(o=!0,!u||r)try{i=e(i,n)}catch(e){return t.error(e)}else i=n},error:function(e){t.error(e)},complete:function(){if(!o&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}})}))},n.concat=function(){for(var e=this,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var o=p(this);return new o((function(n){var r,i=0;return function e(u){r=u.subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){i===t.length?(r=void 0,n.complete()):e(o.from(t[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},n.flatMap=function(e){var n=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=p(this);return new t((function(r){var o=[],i=n.subscribe({next:function(n){if(e)try{n=e(n)}catch(e){return r.error(e)}var i=t.from(n).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),u()}});o.push(i)},error:function(e){r.error(e)},complete:function(){u()}});function u(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))},n[f]=function(){return this},e.from=function(n){var t="function"==typeof this?this:e;if(null==n)throw new TypeError(n+" is not an object");var o=d(n,f);if(o){var i=o.call(n);if(Object(i)!==i)throw new TypeError(i+" is not an object");return v(i)&&i.constructor===t?i:new t((function(e){return i.subscribe(e)}))}if(s("iterator")&&(o=d(n,a)))return new t((function(e){h((function(){if(!e.closed){for(var t,i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o.call(n));!(t=i()).done;){var u=t.value;if(e.next(u),e.closed)return}e.complete()}}))}));if(Array.isArray(n))return new t((function(e){h((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}));throw new TypeError(n+" is not observable")},e.of=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return new("function"==typeof this?this:e)((function(e){h((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}))},i(e,null,[{key:l,get:function(){return this}}]),e}();u()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:f,hostReportError:b},configurable:!0})}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=t(421),n=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,s)}c((r=r.apply(e,n||[])).next())}))},r=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(6===s[0]&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=n.call(e,u)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};e.Amplify.configure({Auth:{userPoolId:"asasd",userPoolWebClientId:"asdasd"}},{sessionHandler:e.sessionHandler}),document.getElementById("signIn-button").appendChild(function(){var t=this,o=document.createElement("button");return o.innerHTML="Sign In",o.addEventListener("click",(function(){return n(t,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,(0,e.signIn)({username:prompt("username"),password:""})];case 1:return n.sent(),[2]}}))}))})),o}()),document.getElementById("signOut-button").appendChild(function(){var t=this,o=document.createElement("button");return o.innerHTML="Sign Out",o.addEventListener("click",(function(){return n(t,void 0,void 0,(function(){return r(this,(function(n){return(0,e.signOut)(),[2]}))}))})),o}());var o=document.getElementById("user-info");(function(){return n=this,t=void 0,o=function(){var n;return function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(6===s[0]&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=n.call(e,u)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return n=document.createElement("div"),e.Amplify.observeUserSession().subscribe({next:function(e){n.innerHTML="user: ".concat(JSON.stringify(e,null,2))}}),[2,n]}))},new((r=void 0)||(r=Promise))((function(e,i){function u(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,s)}c((o=o.apply(n,t||[])).next())}));var n,t,r,o})().then((function(e){return o.appendChild(e)}))})()})();